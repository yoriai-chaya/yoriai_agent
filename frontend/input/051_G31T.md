# Header
- Category: GenCode
- BuildCheck: Off

# Body
Playwright用のフロントエンドアプリケーションのテストプログラムを作成します。

## テストプログラムの要求仕様

- テスト対象アプリケーション概要: Next.js, TypeScript, TailwindCSS, shadcn/uiにて作成したホーム画面

## テスト対象アプリケーションファイル
{{file:app/page.tsx}}
{{file:app/components/Header.tsx}}
{{file:app/components/MainNav.tsx}}
{{file:app/booking/step-1/page.tsx}}

## テスト対象URL
- "/"

## テストケース
テストケースとして以下の4ケースを作成する。

### テストグループ
- テストグループ名: "Home to Booking Step-1 Navigation (pc)"

### テストケース1
- テストケース名: "Check Home"

#### 確認内容
- Home画面の表示確認
- TestId="home-container"を取得、表示されていること(toBeVisible)
- TestId="home-title"を取得、表示されていること(toBeVisible)
- ２秒間待機する(waitForTimeout)

### テストケース2
- テストケース名: "Save Home screen capture"
- 表示画面のスクリーンショットを取得する
- ファイル名: pc_nav_before.png

### テストケース3
- テストケース名: "Navigation"

#### 確認内容
- Home画面から宿泊予約画面に画面遷移できることの確認
- TestId="main-navbar-button-booking"を取得、表示されていること(toBeVisible)
- ボタンをクリック
- URL=「/booking/step1」に遷移すること(toHaveURL)
- TestId="booking-step1-title"を取得、表示されていること(toBeVisible)
- ２秒間待機する(waitForTimeout)

### テストケース4
- テストケース名: "Save Booking Step-1 screen capture"
- 表示画面のスクリーンショットを取得する
- ファイル名: pc_nav_after.png

## 指示事項
生成したプログラムは以下のディレクトリに以下のファイル名で保存すること。

directory: tests  
filename: home_pc_nav.spec.ts

# Prerequisites

## テスト共通事項
- 上記の条件に基づき、ホーム画面のPlaywright用テストプログラムを作成する。プログラムの解説や補足説明は不要。プログラムだけを生成すること。

- テストコードの先頭に以下の行を記述すること。

import { test, expect } from "./base.spec";

- テストグループ名は test.describe() にて指定すること

- テストケース記述は下記の雛形を元に作成すること。

test("テストケース名", async({ page }) => {
    //各々の確認事項のコードを生成する
}

- Playwrightのテスト実行時のコマンドライン

$ npx playwright test (テストプログラムファイル名) （プロジェクト名）

- ロケーターはTestIdをキーとして取得する(getByTestId)

- 各々のテストケースに「await page.goto("/")を記述する必要はない。なぜなら先頭行でimportしている「base.spec.ts」の中でgoto()しているからである。

- クラスの指定確認（toHaveClass）を用いる場合は引数の指定は文字列("xxx")ではなく、正規表現(/xxx/)でコード生成すること。

- 文字列の部分一致の確認は正規表現を用いて記述すること。

（例）
  await expect(locator).toHaveText(/xxx/);

## テスト個別事項
### スクリーンショット取得について
- 本テストはスクリーンショットの取得が含まれるので、テストコードの先頭に以下の行を追記すること。
import { captureScreenshot } from "./screenshot";

- スクリーンショット取得のコード記述様式は以下の通り
  test((指定したテストケース名), async ({ page }) => {
    await captureScreenshot(page, (指定したファイル名));
  });

